<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        /*computer choose randomly among Rock, Paper, Scissor and return the string.*/
        function getComputerChoice() {
            let num = Math.floor(Math.random()*2) - 1;
            if(num === 1) {
                return 'Rock';
            } if (num === -1) {
                return 'Scissors';
            } else {
                return 'Paper';
            }
        }
        
        /*single round function: take two choices from computer and player(case-insensitive), compare it and return the result.*/
        /*Return 1 when player win. return -1 when lose. return 0 when tie.*/
        function playRound(playerSelection, computerSelection) {
            playerSelection = standardSelection(playerSelection);
            computerSelection = standardSelection(computerSelection);
            let playerNum = numberRepresentation(playerSelection);
            let computerNum = numberRepresentation(computerSelection);
            let sum = playerNum + computerNum;
            
            if(playerNum === computerNum) {
                console.log(`Tie! Both are ${playerSelection}.`);
                return 0;
            }
            if(playerNum > computerNum) {
                if(sum === 0) {
                    console.log(`You Lose! ${computerSelection} beats ${playerSelection}`);
                    return -1;
                } else {
                    console.log(`You Win! ${playerSelection} beats ${computerSelection}`);
                    return 1;
                }
            }
            if(playerNum < computerNum) {
                if(sum === 0) {
                    console.log(`You Win! ${playerSelection} beats ${computerSelection}`);
                    return 1;
                } else {
                    console.log(`You Lose! ${computerSelection} beats ${playerSelection}`);
                    return -1;
                }
            }
        }
        /*
        Test output in console:
        const playerSelection = "rock";
        const computerSelection = getComputerChoice();
        console.log(`p: ${playerSelection}; c: ${computerSelection}`);
        console.log(playRound(playerSelection, computerSelection));
        */
        

        /*Upper first letter and lower remain letter.*/
        function standardSelection(selection) {
            let firstLetter = selection.charAt(0).toUpperCase();
            let remainLetter = selection.substr(1).toLowerCase();
            return firstLetter+remainLetter;
        }

        /*use 1 0 -1 to reprents Rock, Scissors, paper.*/
        function numberRepresentation(standardSelection) {
            if (standardSelection === 'Rock') {
                return 1;
            } else if (standardSelection === 'Scissors') {
                return 0;
            } else if (standardSelection === 'Paper') {
                return -1;
            } 
        }

        /*playGame()*/
        //5 round.
        //5 input from user.
        //use console to display results of each round and winner at the end.
        function playGame() {
            let playerScore = 0;
            let computerScore = 0;
            for(let i = 0; i < 5; i++) {
                let playerSelection = prompt('input Rock, Scissors or Paper. No other symbols or space.');
                playerSelection = standardSelection(playerSelection);
                let computerSelection = getComputerChoice();
                let result = playRound(playerSelection, computerSelection);
                if(result > 0) {
                    playerScore ++;
                } else if (result < 0) {
                    computerScore ++;
                }
            }
            let scoreLog = `Your Score is ${playerScore}. Computer Score is ${computerScore}.`;
            if(playerScore === computerScore) {
                console.log('Tie! ${scoreLog}');
            } else if (playerScore > computerScore) {
                console.log(`You win! ${scoreLog}`);
            } else {
                console.log(`You Lose! ${scoreLog}`);
            }
        }
        playGame();
    </script>
</head>
<body>
    
</body>
</html>