(()=>{"use strict";const t=Object.prototype.hasOwnProperty;class e extends Event{constructor(t,e){super(t),this.detail=e}}class n extends EventTarget{constructor(t={}){super();const{concurrency:e=1/0,timeout:n=0,autostart:s=!1,results:r=null}=t;this.concurrency=e,this.timeout=n,this.autostart=s,this.results=r,this.pending=0,this.session=0,this.running=!1,this.jobs=[],this.timers=[],this.addEventListener("error",this._errorHandler)}_errorHandler(t){this.end(t.detail.error)}pop(){return this.jobs.pop()}shift(){return this.jobs.shift()}indexOf(t,e){return this.jobs.indexOf(t,e)}lastIndexOf(t,e){return void 0!==e?this.jobs.lastIndexOf(t,e):this.jobs.lastIndexOf(t)}slice(t,e){return this.jobs=this.jobs.slice(t,e),this}reverse(){return this.jobs.reverse(),this}push(...t){const e=this.jobs.push(...t);return this.autostart&&this._start(),e}unshift(...t){const e=this.jobs.unshift(...t);return this.autostart&&this._start(),e}splice(t,e,...n){return this.jobs.splice(t,e,...n),this.autostart&&this._start(),this}get length(){return this.pending+this.jobs.length}start(t){if(this.running)throw new Error("already started");let e;return t?this._addCallbackToEndEvent(t):e=this._createPromiseToEndEvent(),this._start(),e}_start(){if(this.running=!0,this.pending>=this.concurrency)return;if(0===this.jobs.length)return void(0===this.pending&&this.done());const n=this.jobs.shift(),s=this.session,r=void 0!==n&&t.call(n,"timeout")?n.timeout:this.timeout;let i=!0,o=null,h=!1,l=null;const u=(t,...r)=>{i&&this.session===s&&(i=!1,this.pending--,null!==o&&(this.timers=this.timers.filter((t=>t!==o)),clearTimeout(o)),t?this.dispatchEvent(new e("error",{error:t,job:n})):h||(null!==l&&null!==this.results&&(this.results[l]=[...r]),this.dispatchEvent(new e("success",{result:[...r],job:n}))),this.session===s&&(0===this.pending&&0===this.jobs.length?this.done():this.running&&this._start()))};r&&(o=setTimeout((()=>{h=!0,this.dispatchEvent(new e("timeout",{next:u,job:n})),u()}),r),this.timers.push(o)),null!=this.results&&(l=this.results.length,this.results[l]=null),this.pending++,this.dispatchEvent(new e("start",{job:n})),n.promise=n(u),void 0!==n.promise&&"function"==typeof n.promise.then&&n.promise.then((function(t){return u(void 0,t)})).catch((function(t){return u(t||!0)})),this.running&&this.jobs.length>0&&this._start()}stop(){this.running=!1}end(t){this.clearTimers(),this.jobs.length=0,this.pending=0,this.done(t)}clearTimers(){this.timers.forEach((t=>{clearTimeout(t)})),this.timers=[]}_addCallbackToEndEvent(t){const e=n=>{this.removeEventListener("end",e),t(n.detail.error,this.results)};this.addEventListener("end",e)}_createPromiseToEndEvent(){return new Promise(((t,e)=>{this._addCallbackToEndEvent(((n,s)=>{n?e(n):t(s)}))}))}done(t){this.session++,this.running=!1,this.dispatchEvent(new e("end",{error:t}))}}function s(t,e=null,n=null){return{data:t,left:e,right:n}}function r(t,e){return null===e?s(t):(t<e.data&&(e.left=r(t,e.left)),t>e.data&&(e.right=r(t,e.right)),e)}function i(t,e){if(null===e)return e;if(t<e.data&&(e.left=i(t,e.left)),t>e.data&&(e.right=i(t,e.right)),t===e.data){if(null===e.left)return e.right;if(null===e.right)return e.left;e.data=function(t){let e=t.data;for(;null!==t.left;)e=t.left.data,t=t.left;return e}(e.right),e.right=i(e.data,e.right)}return e}function o(t,e){return null===e?null:t<e.data?o(t,e.left):t>e.data?o(t,e.right):e}function h(t,e,n){if(e>n)return null;let r=parseInt((e+n)/2),i=s(t[r]);return i.left=h(t,e,r-1),i.right=h(t,r+1,n),i}let l=function(t){let e=function(t){let e=function(t){return[...new Set(t)].sort(((t,e)=>t-e))}(t);return h(e,0,e.length-1)}([1,7,4,23,8,9,4,3,5,7,9,67,6345,324]);return{root:e,insert:function(t){e=r(t,e)},deleteItem:function(t){e=i(t,e)},find:function(t){return o(t,e)},levelOrder:function(t){return function(t,e){let s=[],r=new n;for(r.push(t);r.length;){let t=r.shift(),n=e(t.data);s.push(n),t.left&&r.push(t.left),t.right&&r.push(t.right)}return s}(e,t)},inOrder:function(t){return function(t,e){let n=[];return function t(s){null!==s&&(t(s.left),s.data=e(s.data),n.push(s.data),t(s.right))}(t),n}(e,t)},preOrder:function(t){return function(t,e){let n=[];return function t(s){null!==s&&(s.data=e(s.data),n.push(s.data),t(s.left),t(s.right))}(t),n}(e,t)},postOrder:function(t){return function(t,e){let n=[];return function t(s){null!==s&&(t(s.left),t(s.right),s.data=e(s.data),n.push(s.data))}(t),n}(e,t)}}}();const u=(t,e="",n=!0)=>{null!==t&&(null!==t.right&&u(t.right,`${e}${n?"│   ":"    "}`,!1),console.log(`${e}${n?"└── ":"┌── "}${t.data}`),null!==t.left&&u(t.left,`${e}${n?"    ":"│   "}`,!0))};l.insert(25),u(l.root),l.deleteItem(8),u(l.root);const a=t=>1*t;console.log(l.levelOrder(a)),console.log(l.inOrder(a)),console.log(l.preOrder(a)),console.log(l.postOrder(a))})();
//# sourceMappingURL=main.js.map