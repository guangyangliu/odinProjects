(()=>{"use strict";const t=Object.prototype.hasOwnProperty;class e extends Event{constructor(t,e){super(t),this.detail=e}}class n extends EventTarget{constructor(t={}){super();const{concurrency:e=1/0,timeout:n=0,autostart:r=!1,results:s=null}=t;this.concurrency=e,this.timeout=n,this.autostart=r,this.results=s,this.pending=0,this.session=0,this.running=!1,this.jobs=[],this.timers=[],this.addEventListener("error",this._errorHandler)}_errorHandler(t){this.end(t.detail.error)}pop(){return this.jobs.pop()}shift(){return this.jobs.shift()}indexOf(t,e){return this.jobs.indexOf(t,e)}lastIndexOf(t,e){return void 0!==e?this.jobs.lastIndexOf(t,e):this.jobs.lastIndexOf(t)}slice(t,e){return this.jobs=this.jobs.slice(t,e),this}reverse(){return this.jobs.reverse(),this}push(...t){const e=this.jobs.push(...t);return this.autostart&&this._start(),e}unshift(...t){const e=this.jobs.unshift(...t);return this.autostart&&this._start(),e}splice(t,e,...n){return this.jobs.splice(t,e,...n),this.autostart&&this._start(),this}get length(){return this.pending+this.jobs.length}start(t){if(this.running)throw new Error("already started");let e;return t?this._addCallbackToEndEvent(t):e=this._createPromiseToEndEvent(),this._start(),e}_start(){if(this.running=!0,this.pending>=this.concurrency)return;if(0===this.jobs.length)return void(0===this.pending&&this.done());const n=this.jobs.shift(),r=this.session,s=void 0!==n&&t.call(n,"timeout")?n.timeout:this.timeout;let i=!0,o=null,l=!1,h=null;const u=(t,...s)=>{i&&this.session===r&&(i=!1,this.pending--,null!==o&&(this.timers=this.timers.filter((t=>t!==o)),clearTimeout(o)),t?this.dispatchEvent(new e("error",{error:t,job:n})):l||(null!==h&&null!==this.results&&(this.results[h]=[...s]),this.dispatchEvent(new e("success",{result:[...s],job:n}))),this.session===r&&(0===this.pending&&0===this.jobs.length?this.done():this.running&&this._start()))};s&&(o=setTimeout((()=>{l=!0,this.dispatchEvent(new e("timeout",{next:u,job:n})),u()}),s),this.timers.push(o)),null!=this.results&&(h=this.results.length,this.results[h]=null),this.pending++,this.dispatchEvent(new e("start",{job:n})),n.promise=n(u),void 0!==n.promise&&"function"==typeof n.promise.then&&n.promise.then((function(t){return u(void 0,t)})).catch((function(t){return u(t||!0)})),this.running&&this.jobs.length>0&&this._start()}stop(){this.running=!1}end(t){this.clearTimers(),this.jobs.length=0,this.pending=0,this.done(t)}clearTimers(){this.timers.forEach((t=>{clearTimeout(t)})),this.timers=[]}_addCallbackToEndEvent(t){const e=n=>{this.removeEventListener("end",e),t(n.detail.error,this.results)};this.addEventListener("end",e)}_createPromiseToEndEvent(){return new Promise(((t,e)=>{this._addCallbackToEndEvent(((n,r)=>{n?e(n):t(r)}))}))}done(t){this.session++,this.running=!1,this.dispatchEvent(new e("end",{error:t}))}}function r(t){let e=0,n=0;return t.left&&(e=r(t.left)+1),t.right&&(n=r(t.right)+1),e>n?e:n}function s(t,e){let n=0;return e.data<t.data&&(n=s(t.left,e)+1),e.data>t.data&&(n=s(t.right,e)+1),n}function i(t,e=null,n=null){return{data:t,left:e,right:n}}function o(t,e){return null===e?i(t):(t<e.data&&(e.left=o(t,e.left)),t>e.data&&(e.right=o(t,e.right)),e)}function l(t,e){if(null===e)return e;if(t<e.data&&(e.left=l(t,e.left)),t>e.data&&(e.right=l(t,e.right)),t===e.data){if(null===e.left)return e.right;if(null===e.right)return e.left;e.data=function(t){let e=t.data;for(;null!==t.left;)e=t.left.data,t=t.left;return e}(e.right),e.right=l(e.data,e.right)}return e}function h(t,e){return null===e?null:t<e.data?h(t,e.left):t>e.data?h(t,e.right):e}function u(t,e,n){if(e>n)return null;let r=parseInt((e+n)/2),s=i(t[r]);return s.left=u(t,e,r-1),s.right=u(t,r+1,n),s}let a=function(t){let e=function(t){let e=function(t){return[...new Set(t)].sort(((t,e)=>t-e))}(t);return u(e,0,e.length-1)}([1,7,4,23,8,9,4,3,5,7,9,67,6345,324]);return{root:e,insert:function(t){e=o(t,e)},deleteItem:function(t){e=l(t,e)},find:function(t){return h(t,e)},levelOrder:function(t){return function(t,e){let r=[],s=new n;for(s.push(t);s.length;){let t=s.shift(),n=e(t.data);r.push(n),t.left&&s.push(t.left),t.right&&s.push(t.right)}return r}(e,t)},inOrder:function(t){return function(t,e){let n=[];return function t(r){null!==r&&(t(r.left),r.data=e(r.data),n.push(r.data),t(r.right))}(t),n}(e,t)},preOrder:function(t){return function(t,e){let n=[];return function t(r){null!==r&&(r.data=e(r.data),n.push(r.data),t(r.left),t(r.right))}(t),n}(e,t)},postOrder:function(t){return function(t,e){let n=[];return function t(r){null!==r&&(t(r.left),t(r.right),r.data=e(r.data),n.push(r.data))}(t),n}(e,t)},height:function(t){return r(t)},depth:function(t){return s(e,t)},isBalanced:function(){},rebalance:function(){}}}();const d=(t,e="",n=!0)=>{null!==t&&(null!==t.right&&d(t.right,`${e}${n?"│   ":"    "}`,!1),console.log(`${e}${n?"└── ":"┌── "}${t.data}`),null!==t.left&&d(t.left,`${e}${n?"    ":"│   "}`,!0))};a.insert(9999),console.log(a.height(a.root)),d(a.root),a.deleteItem(8),d(a.root);const c=t=>1*t;console.log(a.levelOrder(c)),console.log(a.inOrder(c)),console.log(a.preOrder(c)),console.log(a.postOrder(c));let f=i(1);console.log(a.depth(f))})();
//# sourceMappingURL=main.js.map