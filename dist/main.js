(()=>{"use strict";const t=Object.prototype.hasOwnProperty;class e extends Event{constructor(t,e){super(t),this.detail=e}}class s extends EventTarget{constructor(t={}){super();const{concurrency:e=1/0,timeout:s=0,autostart:n=!1,results:i=null}=t;this.concurrency=e,this.timeout=s,this.autostart=n,this.results=i,this.pending=0,this.session=0,this.running=!1,this.jobs=[],this.timers=[],this.addEventListener("error",this._errorHandler)}_errorHandler(t){this.end(t.detail.error)}pop(){return this.jobs.pop()}shift(){return this.jobs.shift()}indexOf(t,e){return this.jobs.indexOf(t,e)}lastIndexOf(t,e){return void 0!==e?this.jobs.lastIndexOf(t,e):this.jobs.lastIndexOf(t)}slice(t,e){return this.jobs=this.jobs.slice(t,e),this}reverse(){return this.jobs.reverse(),this}push(...t){const e=this.jobs.push(...t);return this.autostart&&this._start(),e}unshift(...t){const e=this.jobs.unshift(...t);return this.autostart&&this._start(),e}splice(t,e,...s){return this.jobs.splice(t,e,...s),this.autostart&&this._start(),this}get length(){return this.pending+this.jobs.length}start(t){if(this.running)throw new Error("already started");let e;return t?this._addCallbackToEndEvent(t):e=this._createPromiseToEndEvent(),this._start(),e}_start(){if(this.running=!0,this.pending>=this.concurrency)return;if(0===this.jobs.length)return void(0===this.pending&&this.done());const s=this.jobs.shift(),n=this.session,i=void 0!==s&&t.call(s,"timeout")?s.timeout:this.timeout;let r=!0,o=null,h=!1,l=null;const u=(t,...i)=>{r&&this.session===n&&(r=!1,this.pending--,null!==o&&(this.timers=this.timers.filter((t=>t!==o)),clearTimeout(o)),t?this.dispatchEvent(new e("error",{error:t,job:s})):h||(null!==l&&null!==this.results&&(this.results[l]=[...i]),this.dispatchEvent(new e("success",{result:[...i],job:s}))),this.session===n&&(0===this.pending&&0===this.jobs.length?this.done():this.running&&this._start()))};i&&(o=setTimeout((()=>{h=!0,this.dispatchEvent(new e("timeout",{next:u,job:s})),u()}),i),this.timers.push(o)),null!=this.results&&(l=this.results.length,this.results[l]=null),this.pending++,this.dispatchEvent(new e("start",{job:s})),s.promise=s(u),void 0!==s.promise&&"function"==typeof s.promise.then&&s.promise.then((function(t){return u(void 0,t)})).catch((function(t){return u(t||!0)})),this.running&&this.jobs.length>0&&this._start()}stop(){this.running=!1}end(t){this.clearTimers(),this.jobs.length=0,this.pending=0,this.done(t)}clearTimers(){this.timers.forEach((t=>{clearTimeout(t)})),this.timers=[]}_addCallbackToEndEvent(t){const e=s=>{this.removeEventListener("end",e),t(s.detail.error,this.results)};this.addEventListener("end",e)}_createPromiseToEndEvent(){return new Promise(((t,e)=>{this._addCallbackToEndEvent(((s,n)=>{s?e(s):t(n)}))}))}done(t){this.session++,this.running=!1,this.dispatchEvent(new e("end",{error:t}))}}function n(t,e=null,s=null){return{data:t,left:e,right:s}}function i(t,e){return null===e?n(t):(t<e.data&&(e.left=i(t,e.left)),t>e.data&&(e.right=i(t,e.right)),e)}function r(t,e){if(null===e)return e;if(t<e.data&&(e.left=r(t,e.left)),t>e.data&&(e.right=r(t,e.right)),t===e.data){if(null===e.left)return e.right;if(null===e.right)return e.left;e.data=function(t){let e=t.data;for(;null!==t.left;)e=t.left.data,t=t.left;return e}(e.right),e.right=r(e.data,e.right)}return e}function o(t,e){return null===e?null:t<e.data?o(t,e.left):t>e.data?o(t,e.right):e}function h(t,e,s){if(e>s)return null;let i=parseInt((e+s)/2),r=n(t[i]);return r.left=h(t,e,i-1),r.right=h(t,i+1,s),r}let l=function(t){let e=function(t){let e=function(t){return[...new Set(t)].sort(((t,e)=>t-e))}(t);return h(e,0,e.length-1)}([1,7,4,23,8,9,4,3,5,7,9,67,6345,324]);return{root:e,insert:function(t){e=i(t,e)},deleteItem:function(t){e=r(t,e)},find:function(t){return o(t,e)},levelOrder:function(t){return function(t,e){let n=[],i=new s;for(i.push(t),console.log(t);i.length;){let t=i.shift(),s=e(t.data);console.log(s),n.push(s),t.left&&i.push(t.left),t.right&&i.push(t.right)}return console.log(n),n}(e,t)}}}();const u=(t,e="",s=!0)=>{null!==t&&(null!==t.right&&u(t.right,`${e}${s?"│   ":"    "}`,!1),console.log(`${e}${s?"└── ":"┌── "}${t.data}`),null!==t.left&&u(t.left,`${e}${s?"    ":"│   "}`,!0))};l.insert(25),u(l.root),l.deleteItem(8),u(l.root);let a=l.levelOrder((t=>2*t));console.log(a)})();
//# sourceMappingURL=main.js.map